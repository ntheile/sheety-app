<div *ngIf="currentData" class="home-page">

    <div *ngIf="routeParams" fxLayout='row wrap' fxLayoutAlign="center center" style="margin-left: 16px; margin-bottom: 10px;" >
        <span *ngFor="let breadcrumb of breadcrumbs" >
            <a  [href]="breadcrumb.href">{{ breadcrumb.label  }}</a> /
        </span> 
    </div>

    <div fxLayout='row wrap' fxLayoutAlign="space-evenly stretch">
        <mat-card fxFlex="30%" fxFlex.xs="100%" *ngIf="shouldFacet || Environment.debugFacets" style="margin-bottom: 20px">
            <span *ngIf="Environment.debugFacets">Should Facet: {{ shouldFacet }}</span>
            <h2 style="float: left;">Filter</h2>
            <button (click)="filter()" mat-raised-button color="primary" style="float: right">Filter </button>
            <span style="float: right; cursor: pointer;" onclick="location.reload()">clear &nbsp;&nbsp;&nbsp; </span>
            <br />
            <pre>
                <app-facet #facets></app-facet>
            </pre>
        </mat-card>
        <mat-card fxFlex="60%" fxFlex.xs="100%" *ngIf="shouldFacet">

            <app-thing-container
                [(currentData)]="currentData" 
                [(routeParams)]="routeParams" 
                [(hierarchyDepth)]="hierarchyDepth"
                [(currentKey)]="currentKey"
                [(searchOpts)]="searchOpts"
                [(shouldFacet)]="shouldFacet">
            </app-thing-container>
            
        </mat-card>
    </div>

    <!-- list of clickable cards -->
    <div *ngIf="!shouldFacet" style="display: flex; flex-wrap:wrap; align-items: center; justify-content: center">
        <div *ngFor="let item of currentData" style="margin: 16px 16px 16px 16px">
            <div *ngIf="!dataService.currentSeachOptions.headerKey">
                <mat-card *ngFor="let key of searchOpts.keys" (click)="nav(item[key])" class="card-category">
                    <h2>{{ item[key] }}</h2>
                </mat-card>
            </div>
            <mat-card *ngIf="dataService.currentSeachOptions.headerKey" (click)="nav(item[dataService.currentSeachOptions.headerKey])"
                class="card-category">
                <h2>{{ item[dataService.currentSeachOptions.headerKey] }}</h2>
            </mat-card>
        </div>
    </div>

</div>